library identifier: "JNFILES@main", retriever: modernSCM(
  [$class: 'GitSCMSource',
   remote: 'https://github.com/Flame0n/JNFILES.git',
   credentialsId: 'AVK'])

def options = [:]

if (params.repositoryUrl && params.repositoryBranch) {
    options.branch = params.repositoryBranch
    options.repo = params.repositoryUrl
    options.preScriptSingle = params.preScriptSingle ?: ""
    options.preScriptMulti = params.preScriptMulti ?: ""
} else {
    throw new Exception("Repository parameters were not found")
}

nightly(options)